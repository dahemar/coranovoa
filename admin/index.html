<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel de Administración - Cora Novoa</title>
    
    <!-- Cargar el script del CMS -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://unpkg.com/netlify-cms@2.10.192/dist/netlify-cms.js"></script>
</head>
<body>
    <!-- Elemento root para el CMS -->
    <div id="nc-root"></div>

    <script>
        // Configuración básica
        var config = {
            backend: {
                name: 'github',
                repo: 'dahemar/coranovoa',
                branch: 'main',
                client_id: 'Ov23li9Bd9fudYzANB0g'
            },
            media_folder: 'images',
            public_folder: '/images',
            collections: [{
                name: 'pages',
                label: 'Páginas',
                files: [{
                    name: 'bio',
                    label: 'Bio',
                    file: 'bio.html',
                    fields: [{
                        label: 'Título',
                        name: 'title',
                        widget: 'string'
                    }]
                }]
            }]
        };

        // Inicializar cuando el documento esté listo
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar CMS con la configuración
            window.netlifyIdentity && netlifyIdentity.on('init', user => {
                if (!user) {
                    netlifyIdentity.on('login', () => {
                        document.location.href = '/admin/';
                    });
                }
            });
        });
    </script>
</body>
</html> 